<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node + OVH - The easiest way to use the OVH API in Node.js</title>
    <meta name="description" content="Official Node.js wrapper for the OVH APIs (OVH Europe, North-America and RunAbove)" />
    <link href="http://fonts.googleapis.com/css?family=Lato:300,400" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="icon" href="img/favicon.png">
  </head>
  <body>
    <div class="man-nav">
        <div class="container">
            <h1 class="pull-left">Node + OVH</h1>
            <div class="pull-right">
                <ul class="nav nav-pills" id="navbar">
                    <li><a href="#gettingStarted">Getting Started</a></li>
                    <li><a href="#examples">Examples</a></li>
                    <li><a href="#dev">Development</a></li>
                    <li><a href="#license">License</a></li>
                    <li><a href="https://github.com/ovh/node-ovh/issues">Issues</a></li>
                    <li><a href="https://github.com/ovh/node-ovh">Repository</a></li>
                </ul>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="header container">
        <a href="http://nodejs.org"><img src="img/nodejs-light.png" alt="Node.js" class="nodejs" /></a>
        <span>+</span>
        <a href="https://api.ovh.com"><img src="img/ovh-under-construction.png" alt="OVH API" /></a>

        <h2>The easiest way to use the OVH REST API in your Node.js applications.</h2>
    </div>

    <div class="gettingStarted" id="gettingStarted">
        <div class="container">
            <h3>Getting started</h3>
        </div>
        <div class="container dots">
            <div class="step">
                <div class="dot">1</div>
                <div class="content">
                    <h4><span>1.</span> Install the official node-ovh using NPM</h4>
                    <p>
                        Please report any issues on <a href="https://github.com/ovh/node-ovh/issues">Github</a>.
                    </p>
                    <pre><code class="language-bash">$ npm install ovh</code></pre>
                </div>

                <div class="clearfix"></div>
            </div>

            <div class="step">
                <div class="dot">2</div>
                <div class="content">
                    <h4><span>2.</span> Create an application</h4>
                    <p>
                        Depending the API you plan yo use, you need to create an application on the below websites:
                        <ul>
                            <li><a href="https://eu.api.ovh.com/createApp/">OVH Europe</a></li>
                            <li><a href="https://ca.api.ovh.com/createApp/">OVH North-America</a></li>
                            <li><a href="https://api.runabove.com/createApp/">RunAbove</a></li>
                        </ul>

                        Once created, you will obtain an <strong>application key (AK)</strong> and an <strong>application secret (AS)</strong>.
                    </p>
                </div>

                <div class="clearfix"></div>
            </div>

            <div class="step">
                <div class="dot">3</div>
                <div class="content">
                    <h4><span>3.</span> Authorize your application to access to a customer account</h4>
                    <p>To allow your application to access to a customer account using one OVH API, you need <strong>a consumer key (CK)</strong>.</p>
                    <p>
                        Here is a sample code you can use to allow your application to access to a complete account.
                    </p>
                    <p>
                        Depending the API you want to use, you need to specify the associated endpoint:
                        <ul>
                            <li>OVH Europe: <strong>eu.api.ovh.com</strong> (default)</li>
                            <li>OVH North-America: <strong>ca.api.ovh.com</strong></li>
                            <li>RunAbove: <strong>api.runabove.com</strong></li>
                        </ul>
                    </p>
                    <pre><code class="language-javascript">var ovh = require('ovh')({
  appKey: 'YOUR_APP_KEY',
  appSecret: 'YOUR_APP_SECRET',
  host: 'eu.api.ovh.com'
});

ovh.request('POST', '/auth/credential', {
  'accessRules': [
    { 'method': 'GET', 'path': '/*'},
    { 'method': 'POST', 'path': '/*'},
    { 'method': 'PUT', 'path': '/*'},
    { 'method': 'DELETE', 'path': '/*'}
  ]
}, function (error, credential) {
  console.log(error || credential);
});</code></pre>

                    <pre><code class="language-bash">$ node credentials.js
{ validationUrl: 'https://api.ovh.com/auth/?credentialToken=XXX',
  consumerKey: 'CK',
  state: 'pendingValidation' }</code></pre>
                    </p>
                    <p>
                        This consumer key can be <strong>scoped with a specific authorization</strong>.
                        For example if your application will only send SMS:

                        <pre><code class="language-javascript">ovh.request('POST', '/auth/credential', {
  'accessRules': [
    { 'method': 'POST', 'path': '/sms/*/jobs'},
  ]
}, function (error, credential) {
  console.log(error || credential);
});</code></pre>
                    </p>

                    <p>
                        Once the consumer key will be authorized on the specified URL, 
                        you'll be able to play with the API calls allowed by this key.
                    </p>
                </div>

                <div class="clearfix"></div>
            </div>
            <div class="step">
                <div class="dot">4</div>
                <div class="content">
                    <h4><span>4.</span> Let's play!</h4>
                    <p>You are now be able to play with the API. Look at the examples below.</p>
                    <p>You can browse the API schemas using the web consoles of the APIs:</p>
                        <ul>
                            <li><a href="https://eu.api.ovh.com/console/">OVH Europe</a></li>
                            <li><a href="https://ca.api.ovh.com/console/">OVH North-America</a></li>
                            <li><a href="https://api.runabove.com/console/">RunAbove</a></li>
                        </ul>
                </div>
            </div>
    </div></div>
    <div class="examples" id="examples">
        <div class="container clearfix">
            <h3>Examples</h3>
            <p>
                Node-ovh can be used in two ways, with or without <a href="http://wiki.ecmascript.org/doku.php?id=harmony:proxies">Harmony Proxies</a>.
                Each example below is written in the two ways.
            </p>

            <p>
                All the examples have a node-ovh module instantiated as below:
                <pre><code class="language-javascript">var ovh = require('ovh')({
  appKey: APP_KEY,
  appSecret: APP_SECRET,
  consumerKey: APP_CONSUMER_KEY,
  host: 'eu.api.ovh.com'
});</code></pre>
            </p>

            <h4>1. Fetch the <a href="https://api.ovh.com/console/#/me">user information</a></h4>
            <div class="row">
                <div class="col-md-6">
                    <p>Without harmony proxies:</p>
                    <pre><code class="language-javascript">ovh.request('GET', '/me', function (err, me) {
  console.log(err || me);
});</code></pre>
                    <pre><code class="language-bash"></code>$ node me.js
{ firstname: 'Foo',
  country: 'FR',
  language: 'fr_FR',
  organisation: '',
  area: '',
  name: 'Bar',
  phone: '+33.XXXXXXXXX',
  email: 'user@domain.tld',
  city: 'Foo',
  zip: '42000',
  fax: '',
  nichandle: 'aaXXXXXX-ovh',
  address: '42 rue bar',
  legalform: 'individual' }</pre>
                </div>
                <div class="col-md-6">
                    <p>With harmony proxies:</p>
                    <pre><code class="language-javascript">ovh.me.$get(function (err, me) {
  console.log(err || me);
});</code></pre>

                    <pre><code class="language-bash"></code>$ node --harmony-proxies me.js
{ firstname: 'Foo',
  country: 'FR',
  language: 'fr_FR',
  organisation: '',
  area: '',
  name: 'Bar',
  phone: '+33.XXXXXXXXX',
  email: 'user@domain.tld',
  city: 'Foo',
  zip: '42000',
  fax: '',
  nichandle: 'aaXXXXXX-ovh',
  address: '42 rue bar',
  legalform: 'individual' }</pre>
                </div>
            </div>

            <h4>2. Fetch the <a href="https://api.ovh.com/console/#/me">bill list and their summaries then print the PDF urls</a></h4>
            <div class="row">
                <div class="col-md-6">
                    <p>Without harmony proxies:</p>
                    <pre><code class="language-javascript">var async = require('async');

ovh.request('GET', '/me/bill', function (err, bills) {
  if (err) { throw err; }
  async.map(
    bills,
    function (bill, callback) {
      ovh.request('GET', '/me/bill/' + bill, callback);
    },
    function (err, bills) {
      if (err) { throw err; }
      bills.forEach(function (bill) {
        console.log(bill.pdfUrl);
      });
    }
  );
});</code></pre>
                    <pre><code class="language-bash"></code>$ node bills.js
https://www.ovh.com/cgi-bin/order/bill.pdf?reference=FRXXXXXXX&amp;passwd=xxxx
https://www.ovh.com/cgi-bin/order/bill.pdf?reference=FRXXXXXXX&amp;passwd=xxxx
https://www.ovh.com/cgi-bin/order/bill.pdf?reference=FRXXXXXXX&amp;passwd=xxxx
[...]</pre>
                </div>
                <div class="col-md-6">
                    <p>With harmony proxies:</p>
                    <pre><code class="language-javascript">var async = require('async');

ovh.me.bill.$get(function (err, bills) {
  if (err) { throw err; }
  async.map(
    bills,
    function (bill, callback) {
      this[bill].$get(callback);
    }.bind(this),
    function (err, bills) {
      if (err) { throw err; }
      bills.forEach(function (bill) {
        console.log(bill.pdfUrl);
      });
    }
  );
});</code></pre>
                    <pre><code class="language-bash"></code>$ node --harmony-proxies bills.js
https://www.ovh.com/cgi-bin/order/bill.pdf?reference=FRXXXXXXX&amp;passwd=xxxx
https://www.ovh.com/cgi-bin/order/bill.pdf?reference=FRXXXXXXX&amp;passwd=xxxx
https://www.ovh.com/cgi-bin/order/bill.pdf?reference=FRXXXXXXX&amp;passwd=xxxx
[...]</pre>
                </div>
            </div>

            <h4>3. Send a <a href="https://api.ovh.com/console/#/sms">SMS</a></h4>
            <div class="row">
                <div class="col-md-6">
                    <p>Without harmony proxies:</p>
                    <pre><code class="language-javascript">ovh.request('POST', '/sms/{serviceName}/jobs', {
  serviceName: 'sms-aaXXXXX-1',
  message: 'Hello World!',
  sender: 'Foo',
  receivers: ['0033600000000']
 }, function (err, result) {
  console.log(err || result);
});</code></pre>
                    <pre><code class="language-bash">$ node sms.js
{ totalCreditsRemoved: 1, ids: [ 42 ] }</code></pre>
                </div>
                <div class="col-md-6">
                    <p>With harmony proxies:</p>
                    <pre><code class="language-javascript">ovh.sms['sms-aaXXXXX-1'].jobs.$post({
  message: 'Hello World!',
  sender: 'Foo',
  receivers: ['0033600000000']
}, function (err, result) {
  console.log(err || result);
});</code></pre>
                    <pre><code class="language-bash">$ node --harmony-proxies sms.js
{ totalCreditsRemoved: 1, ids: [ 42 ] }</code></pre>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="dev" id="dev">
        <div class="container clearfix">
            <h3>Developing with node-ovh</h3>
            <div class="row">
                <div class="col-md-6">
                    <h4>API schemas checks</h4>
                    <p>
                        During development, you can ensure that the calls you use are still in beta or in production.
                        You just need to declare the list of the APIs you are using:
                    </p>
                    <pre><code class="language-javascript">var ovh = require('node-ovh')({
  appKey: APP_KEY,
  appSecret: APP_SECRET,
  consumerKey: APP_CONSUMER_KEY,
  apis: ['me', 'sms']
});

ovh.me.foo.$get(function (err, result) {});
ovh.sms['sms-aaXXXXX-1'].histories.$get(function (err, result) {});
</code></pre>

                    <pre><code class="language-bash">$ node --harmony-proxies dev.js
[OVH] Your call /me/foo was not found in the API schemas.
[OVH] Your API call /sms/sms-aaXXXXX-1/histories is tagged DEPRECATED since 2013-07-31T10:00:00+01:00 and will deleted on 2013-09-01T10:00:00+01:00. You can replace it with /sms/{serviceName}/outgoing/{id}
</code></pre>

                </div>
                <div class="col-md-6">
                    <h4>Debug mode</h4>
                    <p>You can active the debug mode to log all the HTTP requests and responses:</p>

                    <pre><code class="language-javascript">var ovh = require('node-ovh')({
  appKey: APP_KEY,
  appSecret: APP_SECRET,
  consumerKey: APP_CONSUMER_KEY,
  debug: true
});

ovh.domains.$get(function (err, domains) {});
</code></pre>

                    <pre><code class="language-bash">$ node --harmony-proxies domains.js
[OVH] API call: GET /1.0/domains 
[OVH] API response to GET /1.0/domains : ["foo.com", "bar.fr"]
</code></pre>
                </div>
            </div>
        </div>
    </div>
    <div class="license container" id="license">
        <h3>License</h3>
        <p>node-ovh is freely distributable under the terms of the MIT license.</p>

        <pre>Copyright (c) 2014 OVH SAS
Copyright (c) 2012 - 2013 Vincent Giersch

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

Except as contained in this notice, the name of OVH and or its trademarks shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Software without prior written authorization from OVH.
</pre>
    </div>

    <div class="footer container">
        <a href="https://github.com/ovh/node-ovh"><img src="img/github-mark-32.png" alt="This project on github" /></a>
    </div>
    <script src="js/prism.js"></script>
   </body>
 </html>
